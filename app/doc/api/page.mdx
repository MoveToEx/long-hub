
# API

This page describes some common mechanisms shared by api endpoints.

## Note

When in develop environment, LONG Hub uses a sqlite database different in production environment, and stores images 
To run locally, an image host have to be specified. This can be achieved using `dev:start-img-host` command.  
The default port for local image


## Authentication

There are to ways to authenticate on LONG Hub: Access key and login session.  

If you don't have permission required by an endpoint, the server will respond with `403 Forbidden`.

### Access key

You can view your access key on [account page](/account).  
When making requests, add `X-Access-Key` in request header to authenticate.  

For example:

```http
POST /api/post
Content-Type: multipart/form-data; boundary=NMSL
X-Access-Key: <KEY>

...
```

With invalid access key, the server responds with a `401 Unauthorized`  

### Login session

This is also the way you get authenticated when using client component pages on LONG Hub.  
Refer to [/api/account/login](/doc/api/account/login) for details.  


Sessions are identified by cookies.  

The login process does not involve encryption, so make sure to use HTTPS in production.  
